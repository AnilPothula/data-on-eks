"use strict";(self.webpackChunkdoeks_website=self.webpackChunkdoeks_website||[]).push([[8902],{3905:(e,a,t)=>{t.d(a,{Zo:()=>g,kt:()=>u});var r=t(7294);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,r,n=function(e,a){if(null==e)return{};var t,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var l=r.createContext({}),m=function(e){var a=r.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},g=function(e){var a=m(e.components);return r.createElement(l.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},c=r.forwardRef((function(e,a){var t=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,g=s(e,["components","mdxType","originalType","parentName"]),c=m(t),u=n,d=c["".concat(l,".").concat(u)]||c[u]||p[u]||o;return t?r.createElement(d,i(i({ref:a},g),{},{components:t})):r.createElement(d,i({ref:a},g))}));function u(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var o=t.length,i=new Array(o);i[0]=c;var s={};for(var l in a)hasOwnProperty.call(a,l)&&(s[l]=a[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var m=2;m<o;m++)i[m]=t[m];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}c.displayName="MDXCreateElement"},9103:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>m});var r=t(7462),n=(t(7294),t(3905));const o={slug:"Observability EMR on EKS",title:"Observability EMR on EKS",authors:["vara-bonthu"],tags:["emr-on-eks","Spark","Observability","Amazon Managed Prometheus","Amazon Managed Grafana"]},i=void 0,s={permalink:"/blog/Observability EMR on EKS",editUrl:"https://github.com/awslabs/data-on-eks/blob/main/website/blog/blog/2022-05-03-emr-eks-amp-amg-blog.mdx",source:"@site/blog/2022-05-03-emr-eks-amp-amg-blog.mdx",title:"Observability EMR on EKS",description:"Monitoring Amazon EMR on EKS with Amazon Managed Prometheus and Amazon Managed Grafana",date:"2022-05-03T00:00:00.000Z",formattedDate:"May 3, 2022",tags:[{label:"emr-on-eks",permalink:"/blog/tags/emr-on-eks"},{label:"Spark",permalink:"/blog/tags/spark"},{label:"Observability",permalink:"/blog/tags/observability"},{label:"Amazon Managed Prometheus",permalink:"/blog/tags/amazon-managed-prometheus"},{label:"Amazon Managed Grafana",permalink:"/blog/tags/amazon-managed-grafana"}],readingTime:.58,hasTruncateMarker:!1,authors:[{name:"Vara Bonthu",title:"Maintainer of Data on EKS @ AWS",url:"https://github.com/vara-bonthu",imageURL:"https://github.com/vara-bonthu.png",key:"vara-bonthu"}],frontMatter:{slug:"Observability EMR on EKS",title:"Observability EMR on EKS",authors:["vara-bonthu"],tags:["emr-on-eks","Spark","Observability","Amazon Managed Prometheus","Amazon Managed Grafana"]},prevItem:{title:"EMR on EKS Best Practices",permalink:"/blog/EMR on EKS Best Practices"}},l={authorsImageUrls:[void 0]},m=[{value:"Monitoring Amazon EMR on EKS with Amazon Managed Prometheus and Amazon Managed Grafana",id:"monitoring-amazon-emr-on-eks-with-amazon-managed-prometheus-and-amazon-managed-grafana",level:2},{value:"Architecture",id:"architecture",level:3},{value:"Grafana Dashboard for Spark",id:"grafana-dashboard-for-spark",level:3}],g={toc:m};function p(e){let{components:a,...o}=e;return(0,n.kt)("wrapper",(0,r.Z)({},g,o,{components:a,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"monitoring-amazon-emr-on-eks-with-amazon-managed-prometheus-and-amazon-managed-grafana"},(0,n.kt)("a",{parentName:"h2",href:"https://aws.amazon.com/blogs/mt/monitoring-amazon-emr-on-eks-with-amazon-managed-prometheus-and-amazon-managed-grafana/"},"Monitoring Amazon EMR on EKS with Amazon Managed Prometheus and Amazon Managed Grafana")),(0,n.kt)("p",null,"In this post, we will learn to build end-to-end observability for EMR on EKS Spark workloads by leveraging Amazon Managed Service for Prometheus to collect and store the metrics generated by Spark Applications. We will then use Amazon Managed Grafana to build dashboards for monitoring use cases"),(0,n.kt)("p",null,"Checkout the full blog ",(0,n.kt)("a",{parentName:"p",href:"https://aws.amazon.com/blogs/mt/monitoring-amazon-emr-on-eks-with-amazon-managed-prometheus-and-amazon-managed-grafana/"},"here")),(0,n.kt)("h3",{id:"architecture"},"Architecture"),(0,n.kt)("p",null,"The following diagram illustrates the solution architecture for scraping Spark Driver and Executors\u2019 metrics, as well as writing to Amazon Managed Service for Prometheus."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"emr-eks-amp-amg",src:t(1797).Z,width:"1084",height:"637"})),(0,n.kt)("h3",{id:"grafana-dashboard-for-spark"},"Grafana Dashboard for Spark"),(0,n.kt)("p",null,"The following Grafana dashboard displays the EMR on EKS Spark job metrics with Driver and Executor details."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"emr-eks-amp-amg-output",src:t(628).Z,width:"1346",height:"817"})))}p.isMDXComponent=!0},628:(e,a,t)=>{t.d(a,{Z:()=>r});const r=t.p+"assets/images/emr-eks-amp-amg-output-fa8bc3f3183fd9d820744778a6a7888b.png"},1797:(e,a,t)=>{t.d(a,{Z:()=>r});const r=t.p+"assets/images/emr-eks-amp-amg-0effdc2ebf0db702009a52b77af6ca21.png"}}]);